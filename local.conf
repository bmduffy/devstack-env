[[local|localrc]]

# Misc
DATABASE_PASSWORD=pass
ADMIN_PASSWORD=pass
SERVICE_PASSWORD=pass
SERVICE_TOKEN=pass
RABBIT_PASSWORD=pass

# Check this before before you stack, it will change
# ifconfig eth0 or em1
LOCAL_ETH0=127.0.0.1
SUBNET=10.248.1

# What's the story with this host ip?
HOST_IP=${LOCAL_ETH0}  
SERVICE_HOST=${LOCAL_ETH0}
MYSQL_HOST=${LOCAL_ETH0}
RABBIT_HOST=${LOCAL_ETH0}
GLANCE_HOSTPORT=${LOCAL_ETH0}:9292

# Enable Logging

LOGFILE=/opt/stack/logs/stack.sh.log
VERBOSE=True
LOG_COLOR=True
SCREEN_LOGDIR=/opt/stack/logs

# Pre-requisite
ENABLED_SERVICES=rabbit,mysql,key

# Horizon (always use the trunk)
ENABLED_SERVICES+=,horizon
HORIZON_REPO=https://github.com/openstack/horizon
HORIZON_BRANCH=master

# Nova
ENABLED_SERVICES+=,n-api,n-crt,n-obj,n-cpu,n-cond,n-sch
IMAGE_URLS+=",https://launchpad.net/cirros/trunk/0.3.0/+download/cirros-0.3.0-x86_64-disk.img"

# Glance
ENABLED_SERVICES+=,g-api,g-reg

# Do not use Nova-Network
#disable_service n-net

# Enable Neutron
#ENABLED_SERVICES+=,q-svc,q-dhcp,q-meta,q-agt,q-l3

Q_USE_SECGROUP=True
FLOATING_RANGE="${SUBNET}.0/24"
FIXED_RANGE="10.0.0.0/24"
Q_FLOATING_ALLOCATION_POOL=start=${SUBNET}.250,end=${SUBNET}.254
PUBLIC_NETWORK_GATEWAY=${SUBNET}.1
PUBLIC_INTERFACE=em1

# Open vSwitch provider networking configuration
# Q_USE_PROVIDERNET_FOR_PUBLIC=True
# OVS_PHYSICAL_BRIDGE=br-ex
# PUBLIC_BRIDGE=br-ex
# OVS_BRIDGE_MAPPINGS=public:br-ex

# Cinder: can't be used until Centos community fully supports OverlayFS 
# as a replacement for the union file system in docker
# ENABLED_SERVICES+=,cinder,c-api,c-vol,c-sch

# Speed things up a bit
RECLONE=no
PIP_UPGRADE=False